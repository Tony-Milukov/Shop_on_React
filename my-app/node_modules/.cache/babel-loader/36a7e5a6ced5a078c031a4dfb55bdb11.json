{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Tony/Documents/GitHub/Shop_on_React/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"C:/Users/Tony/Documents/GitHub/Shop_on_React/my-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Tony/Documents/GitHub/Shop_on_React/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{CREATE_NEW_USER,LOG_IN,LOG_OUT,CREATE_ORDER}from\"./actions\";// {\n//         orderTime: time\n//     orderedProducts: [\n//               {product},\n//               {product},\n//               {product},\n//               {product},\n//     ],\n//      adress: {\n//          country: country,\n//          city: city,\n//          postcode: postcode\n//   }\n//         status: \"ordered\", //Statuses \"ordered\" => in delivery => delivered\n// }\n// type sessionData: {\n//     loggedIn: true,\n//     email: email,\n//     password: password,\n// }\nvar initialState={ordersIdsCounter:0,sessionData:{loggedIn:false},//email and password of this session, like cookies\nusers:{}};export var userReducer=function userReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case CREATE_NEW_USER:return _objectSpread(_objectSpread({},state),{},{users:_objectSpread(_objectSpread({},state.users),{},_defineProperty({},action.payload.email,{orders:[],name:\"\".concat(action.payload.firsName),password:\"\".concat(action.payload.password),lastName:\"\".concat(action.payload.lastName),gender:\"\".concat(action.payload.gender)}))});case LOG_IN:return _objectSpread(_objectSpread({},state),{},{sessionData:_objectSpread(_objectSpread({},state.sessionData),{},{loggedIn:true,email:\"\".concat(action.payload.email),password:\"\".concat(action.payload.password)})});case LOG_OUT:return _objectSpread(_objectSpread({},state),{},{sessionData:{}});case CREATE_ORDER:return _objectSpread(_objectSpread({},state),{},{ordersIdsCounter:state.ordersIdsCounter+1,users:_objectSpread(_objectSpread({},state.users),{},_defineProperty({},action.payload.email,_objectSpread(_objectSpread({},state.users[action.payload.email]),{},{orders:[].concat(_toConsumableArray(state.users[action.payload.email].orders),[action.payload.cart])})))});default:return state;}};","map":{"version":3,"names":["CREATE_NEW_USER","LOG_IN","LOG_OUT","CREATE_ORDER","initialState","ordersIdsCounter","sessionData","loggedIn","users","userReducer","state","action","type","payload","email","orders","name","firsName","password","lastName","gender","cart"],"sources":["C:/Users/Tony/Documents/GitHub/Shop_on_React/my-app/src/store/user/reducer.js"],"sourcesContent":["import { CREATE_NEW_USER,LOG_IN,LOG_OUT,CREATE_ORDER} from \"./actions\"\r\n\r\n// {\r\n//         orderTime: time\r\n//     orderedProducts: [\r\n//               {product},\r\n//               {product},\r\n//               {product},\r\n//               {product},\r\n//     ],\r\n//      adress: {\r\n//          country: country,\r\n//          city: city,\r\n//          postcode: postcode\r\n//   }\r\n//         status: \"ordered\", //Statuses \"ordered\" => in delivery => delivered\r\n// }\r\n\r\n// type sessionData: {\r\n//     loggedIn: true,\r\n//     email: email,\r\n//     password: password,\r\n// }\r\nconst initialState = {\r\n        ordersIdsCounter: 0,\r\n        sessionData: { loggedIn: false } , //email and password of this session, like cookies\r\n        users: {\r\n        }\r\n\r\n}\r\nexport const userReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n      case CREATE_NEW_USER:\r\n        return  {\r\n          ...state,\r\n          users: {\r\n            ...state.users,\r\n            [action.payload.email]: {\r\n              orders: [],\r\n              name: `${action.payload.firsName}`,\r\n              password: `${action.payload.password}`,\r\n              lastName: `${action.payload.lastName}`,\r\n              gender: `${action.payload.gender}`\r\n            }\r\n          }\r\n        }\r\n      case LOG_IN:\r\n        return {\r\n          ...state,\r\n          sessionData: {\r\n            ...state.sessionData,\r\n            loggedIn: true,\r\n            email: `${action.payload.email}`,\r\n            password: `${action.payload.password}`\r\n\r\n          }\r\n        }\r\n      case  LOG_OUT:\r\n      return {\r\n        ...state,\r\n        sessionData: {}\r\n\r\n      }\r\n      case CREATE_ORDER:\r\n        return {\r\n          ...state,\r\n          ordersIdsCounter: state.ordersIdsCounter+1,\r\n          users: {\r\n            ...state.users,\r\n            [action.payload.email] : {\r\n              ...state.users[action.payload.email],\r\n              orders: [\r\n                ...state.users[action.payload.email].orders,\r\n                action.payload.cart\r\n              ]\r\n            }\r\n          }\r\n\r\n                }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n"],"mappings":"oaAAA,OAASA,eAAT,CAAyBC,MAAzB,CAAgCC,OAAhC,CAAwCC,YAAxC,KAA2D,WAA3D,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA,GAAMC,CAAAA,YAAY,CAAG,CACbC,gBAAgB,CAAE,CADL,CAEbC,WAAW,CAAE,CAAEC,QAAQ,CAAE,KAAZ,CAFA,CAEsB;AACnCC,KAAK,CAAE,EAHM,CAArB,CAOA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBN,YAAyB,IAAXO,CAAAA,MAAW,2CAEzD,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKZ,CAAAA,eAAL,CACE,sCACKU,KADL,MAEEF,KAAK,gCACAE,KAAK,CAACF,KADN,wBAEFG,MAAM,CAACE,OAAP,CAAeC,KAFb,CAEqB,CACtBC,MAAM,CAAE,EADc,CAEtBC,IAAI,WAAKL,MAAM,CAACE,OAAP,CAAeI,QAApB,CAFkB,CAGtBC,QAAQ,WAAKP,MAAM,CAACE,OAAP,CAAeK,QAApB,CAHc,CAItBC,QAAQ,WAAKR,MAAM,CAACE,OAAP,CAAeM,QAApB,CAJc,CAKtBC,MAAM,WAAKT,MAAM,CAACE,OAAP,CAAeO,MAApB,CALgB,CAFrB,EAFP,GAaF,IAAKnB,CAAAA,MAAL,CACE,sCACKS,KADL,MAEEJ,WAAW,gCACNI,KAAK,CAACJ,WADA,MAETC,QAAQ,CAAE,IAFD,CAGTO,KAAK,WAAKH,MAAM,CAACE,OAAP,CAAeC,KAApB,CAHI,CAITI,QAAQ,WAAKP,MAAM,CAACE,OAAP,CAAeK,QAApB,CAJC,EAFb,GAUF,IAAMhB,CAAAA,OAAN,CACA,sCACKQ,KADL,MAEEJ,WAAW,CAAE,EAFf,GAKA,IAAKH,CAAAA,YAAL,CACE,sCACKO,KADL,MAEEL,gBAAgB,CAAEK,KAAK,CAACL,gBAAN,CAAuB,CAF3C,CAGEG,KAAK,gCACAE,KAAK,CAACF,KADN,wBAEFG,MAAM,CAACE,OAAP,CAAeC,KAFb,gCAGEJ,KAAK,CAACF,KAAN,CAAYG,MAAM,CAACE,OAAP,CAAeC,KAA3B,CAHF,MAIDC,MAAM,8BACDL,KAAK,CAACF,KAAN,CAAYG,MAAM,CAACE,OAAP,CAAeC,KAA3B,EAAkCC,MADjC,GAEJJ,MAAM,CAACE,OAAP,CAAeQ,IAFX,EAJL,IAHP,GAeA,QACI,MAAOX,CAAAA,KAAP,CAjDR,CAmDH,CArDM"},"metadata":{},"sourceType":"module"}