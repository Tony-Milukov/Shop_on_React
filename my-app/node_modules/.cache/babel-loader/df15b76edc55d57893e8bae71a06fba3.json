{"ast":null,"code":"import { ADD_TO_CART } from \"./actions\";\nimport { useSelector } from 'react-redux';\nconst initialState = {\n  cartProducts: []\n}; // {\n//     ID: \"1\",\n//     name: \"chain\",\n//     price: 200,\n//     gender: \"man\",\n//     type: \"accessories\",\n//     description : \"\",\n//     mainFoto: \"https://jaxxon.com/static/b8f93c561800af9eabbaa96a3d6ce173/3cd29/CubanFrancoGold2.webp\",\n//     fotos: [\"https://jaxxon.com/static/5e2fc81c8bf5b07acd2d2c06d876e605/3cd29/CubanFrancoGold3.webp\",\"https://jaxxon.com/static/04264e9389d87c359e319a3abd78831f/3cd29/2.5mmFranco_5mmCubanGoldView2.webp\",\"https://jaxxon.com/static/77b2a5b6668391b2cb5df6ce05baa397/3cd29/CubanFrancoGold5.webp\",\"https://jaxxon.com/static/31eab49ca72f383d6197bbbb103869b8/3cd29/CubanFrancoGoldBoxed.webp\"]\n// }\n\nexport const cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  // state.cartProducts.map(i => {\n  //     if(i.ID === action.payload.ID) {\n  //         console.log(\"ECTЬ\")\n  //         return   i.count++\n  //     } else if(i.ID !== action.payload.ID) {\n  //         return 1\n  //     }\n  // })\n  const getCount = () => {};\n\n  const getCartsProducts = () => {\n    let filtered = state.cartProducts.filter(i => i.ID === action.payload.ID);\n    console.log(filtered);\n\n    if (filtered.length == 0) {\n      return { ...state,\n        cartProducts: [...state.cartProducts, {\n          ID: `${action.payload.ID}`,\n          name: `${action.payload.name}`,\n          gender: `${action.payload.gender}`,\n          type: `${action.payload.type}`,\n          price: `${action.payload.price}`,\n          count: 1\n        }]\n      };\n    }\n\n    if (filtered.length == 1) {\n      const l = () => {\n        state.cartProducts.forEach((item, i, arr) => {\n          return item.ID === action.payload.ID ? state.cartProducts[i] = {\n            ID: `${action.payload.ID}`,\n            name: `${action.payload.name}`,\n            gender: `${action.payload.gender}`,\n            type: `${action.payload.type}`,\n            price: `${action.payload.price}`,\n            count: state.cartProducts[i].count + 1\n          } : state;\n        });\n      };\n\n      l();\n      return { ...state,\n        cartProducts: [...state.cartProducts]\n      };\n    }\n  };\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      return getCartsProducts();\n\n    case CLEAR_CART:\n      return {\n        cartProducts: []\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["ADD_TO_CART","useSelector","initialState","cartProducts","cartReducer","state","action","getCount","getCartsProducts","filtered","filter","i","ID","payload","console","log","length","name","gender","type","price","count","l","forEach","item","arr","CLEAR_CART"],"sources":["C:/Users/Tony/Documents/GitHub/React-Shop/my-app/src/store/cart/reducer.js"],"sourcesContent":["import {ADD_TO_CART} from \"./actions\"\r\nimport {useSelector} from 'react-redux'\r\n\r\nconst initialState = {\r\n    cartProducts : []\r\n}\r\n// {\r\n//     ID: \"1\",\r\n//     name: \"chain\",\r\n//     price: 200,\r\n//     gender: \"man\",\r\n//     type: \"accessories\",\r\n//     description : \"\",\r\n//     mainFoto: \"https://jaxxon.com/static/b8f93c561800af9eabbaa96a3d6ce173/3cd29/CubanFrancoGold2.webp\",\r\n//     fotos: [\"https://jaxxon.com/static/5e2fc81c8bf5b07acd2d2c06d876e605/3cd29/CubanFrancoGold3.webp\",\"https://jaxxon.com/static/04264e9389d87c359e319a3abd78831f/3cd29/2.5mmFranco_5mmCubanGoldView2.webp\",\"https://jaxxon.com/static/77b2a5b6668391b2cb5df6ce05baa397/3cd29/CubanFrancoGold5.webp\",\"https://jaxxon.com/static/31eab49ca72f383d6197bbbb103869b8/3cd29/CubanFrancoGoldBoxed.webp\"]\r\n// }\r\n\r\nexport const cartReducer = (state = initialState, action) => {\r\n    // state.cartProducts.map(i => {\r\n    //     if(i.ID === action.payload.ID) {\r\n    //         console.log(\"ECTЬ\")\r\n    //         return   i.count++\r\n    //     } else if(i.ID !== action.payload.ID) {\r\n    //         return 1\r\n    //     }\r\n    // })\r\n    const getCount = () => {\r\n\r\n    }\r\n    const getCartsProducts = () => {\r\n        let filtered = state.cartProducts.filter(i => i.ID === action.payload.ID)\r\n        console.log(filtered)\r\n\r\n        if(filtered.length == 0 ) {\r\n            return {\r\n                ...state,\r\n                cartProducts:  [\r\n                    ...state.cartProducts,\r\n                    {\r\n                        ID: `${action.payload.ID}`,\r\n                        name: `${action.payload.name}`,\r\n                        gender: `${action.payload.gender}`,\r\n                        type: `${action.payload.type}`,\r\n                        price: `${action.payload.price}`,\r\n                        count:  1,\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n         if(filtered.length == 1) {\r\n           const l = () => {\r\n                state.cartProducts.forEach((item,i,arr) => {\r\n                  return  ((item.ID === action.payload.ID) ?\r\n                         state.cartProducts[i] =  {\r\n                         ID: `${action.payload.ID}`,\r\n                         name: `${action.payload.name}`,\r\n                         gender: `${action.payload.gender}`,\r\n                         type: `${action.payload.type}`,\r\n                         price: `${action.payload.price}`,\r\n                         count:  state.cartProducts[i].count +1,\r\n                     }  : state)\r\n                })\r\n            }\r\n             l()\r\n            return {\r\n                ...state,\r\n                cartProducts:  [\r\n                    ...state.cartProducts,\r\n                ]\r\n            }\r\n        }\r\n    }\r\n    switch (action.type) {\r\n        case ADD_TO_CART:\r\n            return getCartsProducts()\r\n        case CLEAR_CART:\r\n            return {\r\n                cartProducts: []\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}"],"mappings":"AAAA,SAAQA,WAAR,QAA0B,WAA1B;AACA,SAAQC,WAAR,QAA0B,aAA1B;AAEA,MAAMC,YAAY,GAAG;EACjBC,YAAY,EAAG;AADE,CAArB,C,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,WAAW,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBH,YAAyB;EAAA,IAAXI,MAAW;;EACzD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAMC,QAAQ,GAAG,MAAM,CAEtB,CAFD;;EAGA,MAAMC,gBAAgB,GAAG,MAAM;IAC3B,IAAIC,QAAQ,GAAGJ,KAAK,CAACF,YAAN,CAAmBO,MAAnB,CAA0BC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASN,MAAM,CAACO,OAAP,CAAeD,EAAvD,CAAf;IACAE,OAAO,CAACC,GAAR,CAAYN,QAAZ;;IAEA,IAAGA,QAAQ,CAACO,MAAT,IAAmB,CAAtB,EAA0B;MACtB,OAAO,EACH,GAAGX,KADA;QAEHF,YAAY,EAAG,CACX,GAAGE,KAAK,CAACF,YADE,EAEX;UACIS,EAAE,EAAG,GAAEN,MAAM,CAACO,OAAP,CAAeD,EAAG,EAD7B;UAEIK,IAAI,EAAG,GAAEX,MAAM,CAACO,OAAP,CAAeI,IAAK,EAFjC;UAGIC,MAAM,EAAG,GAAEZ,MAAM,CAACO,OAAP,CAAeK,MAAO,EAHrC;UAIIC,IAAI,EAAG,GAAEb,MAAM,CAACO,OAAP,CAAeM,IAAK,EAJjC;UAKIC,KAAK,EAAG,GAAEd,MAAM,CAACO,OAAP,CAAeO,KAAM,EALnC;UAMIC,KAAK,EAAG;QANZ,CAFW;MAFZ,CAAP;IAcH;;IACA,IAAGZ,QAAQ,CAACO,MAAT,IAAmB,CAAtB,EAAyB;MACvB,MAAMM,CAAC,GAAG,MAAM;QACXjB,KAAK,CAACF,YAAN,CAAmBoB,OAAnB,CAA2B,CAACC,IAAD,EAAMb,CAAN,EAAQc,GAAR,KAAgB;UACzC,OAAUD,IAAI,CAACZ,EAAL,KAAYN,MAAM,CAACO,OAAP,CAAeD,EAA5B,GACFP,KAAK,CAACF,YAAN,CAAmBQ,CAAnB,IAAyB;YACzBC,EAAE,EAAG,GAAEN,MAAM,CAACO,OAAP,CAAeD,EAAG,EADA;YAEzBK,IAAI,EAAG,GAAEX,MAAM,CAACO,OAAP,CAAeI,IAAK,EAFJ;YAGzBC,MAAM,EAAG,GAAEZ,MAAM,CAACO,OAAP,CAAeK,MAAO,EAHR;YAIzBC,IAAI,EAAG,GAAEb,MAAM,CAACO,OAAP,CAAeM,IAAK,EAJJ;YAKzBC,KAAK,EAAG,GAAEd,MAAM,CAACO,OAAP,CAAeO,KAAM,EALN;YAMzBC,KAAK,EAAGhB,KAAK,CAACF,YAAN,CAAmBQ,CAAnB,EAAsBU,KAAtB,GAA6B;UANZ,CADvB,GAQDhB,KARR;QASD,CAVD;MAWH,CAZF;;MAaEiB,CAAC;MACF,OAAO,EACH,GAAGjB,KADA;QAEHF,YAAY,EAAG,CACX,GAAGE,KAAK,CAACF,YADE;MAFZ,CAAP;IAMH;EACJ,CA1CD;;EA2CA,QAAQG,MAAM,CAACa,IAAf;IACI,KAAKnB,WAAL;MACI,OAAOQ,gBAAgB,EAAvB;;IACJ,KAAKkB,UAAL;MACI,OAAO;QACHvB,YAAY,EAAE;MADX,CAAP;;IAGJ;MACI,OAAOE,KAAP;EARR;AAUH,CAjEM"},"metadata":{},"sourceType":"module"}