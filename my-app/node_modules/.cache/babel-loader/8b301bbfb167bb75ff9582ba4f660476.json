{"ast":null,"code":"import { CREATE_NEW_USER, LOG_IN, LOG_OUT, CREATE_ORDER } from \"./actions\"; // {\n//         orderTime: time\n//     orderedProducts: [\n//               {product},\n//               {product},\n//               {product},\n//               {product},\n//     ],\n//      adress: {\n//          country: country,\n//          city: city,\n//          postcode: postcode\n//   }\n//         status: \"ordered\", //Statuses \"ordered\" => in delivery => delivered\n// }\n// type sessionData: {\n//     loggedIn: true,\n//     email: email,\n//     password: password,\n// }\n\nconst initialState = {\n  ordersIdsCounter: 0,\n  sessionData: {\n    loggedIn: false\n  },\n  //email and password of this session, like cookies\n  users: {}\n};\nexport const userReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case CREATE_NEW_USER:\n      return { ...state,\n        users: { ...state.users,\n          [action.payload.email]: {\n            orders: [],\n            name: `${action.payload.firsName}`,\n            password: `${action.payload.password}`,\n            lastName: `${action.payload.lastName}`,\n            gender: `${action.payload.gender}`\n          }\n        }\n      };\n\n    case LOG_IN:\n      return { ...state,\n        sessionData: { ...state.sessionData,\n          loggedIn: true,\n          email: `${action.payload.email}`,\n          password: `${action.payload.password}`\n        }\n      };\n\n    case LOG_OUT:\n      return { ...state,\n        sessionData: {}\n      };\n\n    case CREATE_ORDER:\n      return { ...state,\n        ordersIdsCounter: state.ordersIdsCounter + 1,\n        users: { ...state.users,\n          [action.payload.email]: { ...state.users[action.payload.email],\n            orders: [...state.users[action.payload.email].orders, action.payload.cart]\n          }\n        }\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["CREATE_NEW_USER","LOG_IN","LOG_OUT","CREATE_ORDER","initialState","ordersIdsCounter","sessionData","loggedIn","users","userReducer","state","action","type","payload","email","orders","name","firsName","password","lastName","gender","cart"],"sources":["C:/Users/Tony/Documents/GitHub/React-Shop/my-app/src/store/user/reducer.js"],"sourcesContent":["import { CREATE_NEW_USER,LOG_IN,LOG_OUT,CREATE_ORDER} from \"./actions\"\r\n\r\n// {\r\n//         orderTime: time\r\n//     orderedProducts: [\r\n//               {product},\r\n//               {product},\r\n//               {product},\r\n//               {product},\r\n//     ],\r\n//      adress: {\r\n//          country: country,\r\n//          city: city,\r\n//          postcode: postcode\r\n//   }\r\n//         status: \"ordered\", //Statuses \"ordered\" => in delivery => delivered\r\n// }\r\n\r\n// type sessionData: {\r\n//     loggedIn: true,\r\n//     email: email,\r\n//     password: password,\r\n// }\r\nconst initialState = {\r\n        ordersIdsCounter: 0,\r\n        sessionData: { loggedIn: false } , //email and password of this session, like cookies\r\n        users: {\r\n        }\r\n\r\n}\r\nexport const userReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n      case CREATE_NEW_USER:\r\n        return  {\r\n          ...state,\r\n          users: {\r\n            ...state.users,\r\n            [action.payload.email]: {\r\n              orders: [],\r\n              name: `${action.payload.firsName}`,\r\n              password: `${action.payload.password}`,\r\n              lastName: `${action.payload.lastName}`,\r\n              gender: `${action.payload.gender}`\r\n            }\r\n          }\r\n        }\r\n      case LOG_IN:\r\n        return {\r\n          ...state,\r\n          sessionData: {\r\n            ...state.sessionData,\r\n            loggedIn: true,\r\n            email: `${action.payload.email}`,\r\n            password: `${action.payload.password}`\r\n\r\n          }\r\n        }\r\n      case  LOG_OUT:\r\n      return {\r\n        ...state,\r\n        sessionData: {}\r\n\r\n      }\r\n      case CREATE_ORDER:\r\n        return {\r\n          ...state,\r\n          ordersIdsCounter: state.ordersIdsCounter+1,\r\n          users: {\r\n            ...state.users,\r\n            [action.payload.email] : {\r\n              ...state.users[action.payload.email],\r\n              orders: [\r\n                ...state.users[action.payload.email].orders,\r\n                action.payload.cart\r\n              ]\r\n            }\r\n          }\r\n\r\n                }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n"],"mappings":"AAAA,SAASA,eAAT,EAAyBC,MAAzB,EAAgCC,OAAhC,EAAwCC,YAAxC,QAA2D,WAA3D,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AACA,MAAMC,YAAY,GAAG;EACbC,gBAAgB,EAAE,CADL;EAEbC,WAAW,EAAE;IAAEC,QAAQ,EAAE;EAAZ,CAFA;EAEsB;EACnCC,KAAK,EAAE;AAHM,CAArB;AAOA,OAAO,MAAMC,WAAW,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBN,YAAyB;EAAA,IAAXO,MAAW;;EAEzD,QAAQA,MAAM,CAACC,IAAf;IACE,KAAKZ,eAAL;MACE,OAAQ,EACN,GAAGU,KADG;QAENF,KAAK,EAAE,EACL,GAAGE,KAAK,CAACF,KADJ;UAEL,CAACG,MAAM,CAACE,OAAP,CAAeC,KAAhB,GAAwB;YACtBC,MAAM,EAAE,EADc;YAEtBC,IAAI,EAAG,GAAEL,MAAM,CAACE,OAAP,CAAeI,QAAS,EAFX;YAGtBC,QAAQ,EAAG,GAAEP,MAAM,CAACE,OAAP,CAAeK,QAAS,EAHf;YAItBC,QAAQ,EAAG,GAAER,MAAM,CAACE,OAAP,CAAeM,QAAS,EAJf;YAKtBC,MAAM,EAAG,GAAET,MAAM,CAACE,OAAP,CAAeO,MAAO;UALX;QAFnB;MAFD,CAAR;;IAaF,KAAKnB,MAAL;MACE,OAAO,EACL,GAAGS,KADE;QAELJ,WAAW,EAAE,EACX,GAAGI,KAAK,CAACJ,WADE;UAEXC,QAAQ,EAAE,IAFC;UAGXO,KAAK,EAAG,GAAEH,MAAM,CAACE,OAAP,CAAeC,KAAM,EAHpB;UAIXI,QAAQ,EAAG,GAAEP,MAAM,CAACE,OAAP,CAAeK,QAAS;QAJ1B;MAFR,CAAP;;IAUF,KAAMhB,OAAN;MACA,OAAO,EACL,GAAGQ,KADE;QAELJ,WAAW,EAAE;MAFR,CAAP;;IAKA,KAAKH,YAAL;MACE,OAAO,EACL,GAAGO,KADE;QAELL,gBAAgB,EAAEK,KAAK,CAACL,gBAAN,GAAuB,CAFpC;QAGLG,KAAK,EAAE,EACL,GAAGE,KAAK,CAACF,KADJ;UAEL,CAACG,MAAM,CAACE,OAAP,CAAeC,KAAhB,GAAyB,EACvB,GAAGJ,KAAK,CAACF,KAAN,CAAYG,MAAM,CAACE,OAAP,CAAeC,KAA3B,CADoB;YAEvBC,MAAM,EAAE,CACN,GAAGL,KAAK,CAACF,KAAN,CAAYG,MAAM,CAACE,OAAP,CAAeC,KAA3B,EAAkCC,MAD/B,EAENJ,MAAM,CAACE,OAAP,CAAeQ,IAFT;UAFe;QAFpB;MAHF,CAAP;;IAeA;MACI,OAAOX,KAAP;EAjDR;AAmDH,CArDM"},"metadata":{},"sourceType":"module"}