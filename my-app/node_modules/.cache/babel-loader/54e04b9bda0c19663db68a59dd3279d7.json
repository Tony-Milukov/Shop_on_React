{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Tony/Documents/GitHub/Shop_on_React/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/Tony/Documents/GitHub/Shop_on_React/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{ADD_TO_CART,CLEAR_CART,CHANGE_QUANITY}from\"./actions\";var initialState={cartProducts:[]};// {\n//     ID: \"1\",\n//     name: \"chain\",\n//     price: 200,\n//     gender: \"man\",\n//     type: \"accessories\",\n// }\nexport var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var changeCount=function changeCount(){if(action.payload.quantity==0){state.cartProducts.forEach(function(item,i,arr){return item.ID===action.payload.ID?state.cartProducts.splice(i,1):state;});}else if(action.payload.quantity>=1){state.cartProducts.forEach(function(item,i,arr){return item.ID===action.payload.ID?state.cartProducts[i]={ID:\"\".concat(state.cartProducts[i].ID),name:\"\".concat(state.cartProducts[i].name),gender:\"\".concat(state.cartProducts[i].gender),type:\"\".concat(state.cartProducts[i].type),price:\"\".concat(state.cartProducts[i].price),count:parseInt(action.payload.quantity),image:\"\".concat(state.cartProducts[i].image),size:\"\".concat(state.cartProducts[i].size),color:\"\".concat(state.cartProducts[i].color)}:state;});}};var getCartsProducts=function getCartsProducts(){var filtered=state.cartProducts.filter(function(i){return i.ID===action.payload.ID;});if(filtered.length==0){return _objectSpread(_objectSpread({},state),{},{cartProducts:[].concat(_toConsumableArray(state.cartProducts),[{ID:\"\".concat(action.payload.ID),name:\"\".concat(action.payload.name),gender:\"\".concat(action.payload.gender),type:\"\".concat(action.payload.type),price:\"\".concat(action.payload.price),count:1,image:\"\".concat(action.payload.image),size:\"\".concat(action.payload.size),color:\"\".concat(action.payload.color)}])});}if(filtered.length==1){var addToCart=function addToCart(){state.cartProducts.forEach(function(item,i,arr){return item.ID===action.payload.ID?state.cartProducts[i]={ID:\"\".concat(action.payload.ID),name:\"\".concat(action.payload.name),gender:\"\".concat(action.payload.gender),type:\"\".concat(action.payload.type),price:\"\".concat(action.payload.price),count:state.cartProducts[i].count+1,image:\"\".concat(action.payload.image),size:\"\".concat(action.payload.size),color:\"\".concat(action.payload.color)}:state;});};addToCart();return _objectSpread(_objectSpread({},state),{},{cartProducts:_toConsumableArray(state.cartProducts)});}};switch(action.type){case ADD_TO_CART:return getCartsProducts();case CLEAR_CART:return{cartProducts:[]};case CHANGE_QUANITY:changeCount();return _objectSpread(_objectSpread({},state),{},{cartProducts:_toConsumableArray(state.cartProducts)});default:return state;}};","map":{"version":3,"names":["ADD_TO_CART","CLEAR_CART","CHANGE_QUANITY","initialState","cartProducts","cartReducer","state","action","changeCount","payload","quantity","forEach","item","i","arr","ID","splice","name","gender","type","price","count","parseInt","image","size","color","getCartsProducts","filtered","filter","length","addToCart"],"sources":["C:/Users/Tony/Documents/GitHub/Shop_on_React/my-app/src/store/cart/reducer.js"],"sourcesContent":["import {ADD_TO_CART,CLEAR_CART,CHANGE_QUANITY} from \"./actions\"\r\n\r\n\r\nconst initialState = {\r\n    cartProducts : []\r\n}\r\n// {\r\n//     ID: \"1\",\r\n//     name: \"chain\",\r\n//     price: 200,\r\n//     gender: \"man\",\r\n//     type: \"accessories\",\r\n// }\r\n\r\nexport const cartReducer = (state = initialState, action) => {\r\n    const changeCount = () => {\r\n        if(action.payload.quantity == 0) {\r\n            state.cartProducts.forEach((item,i,arr) => {\r\n                return ((item.ID === action.payload.ID) ?\r\n                    state.cartProducts.splice(i,1)  : state)\r\n            })\r\n        }\r\n        else if(action.payload.quantity >= 1) {\r\n            state.cartProducts.forEach((item,i,arr) => {\r\n                return ((item.ID === action.payload.ID) ?\r\n                    state.cartProducts[i] =  {\r\n                        ID: `${state.cartProducts[i].ID}`,\r\n                        name: `${state.cartProducts[i].name}`,\r\n                        gender: `${state.cartProducts[i].gender}`,\r\n                        type: `${state.cartProducts[i].type}`,\r\n                        price: `${state.cartProducts[i].price}`,\r\n                        count:  parseInt(action.payload.quantity),\r\n                        image: `${state.cartProducts[i].image}`,\r\n                        size: `${state.cartProducts[i].size}`,\r\n                        color: `${state.cartProducts[i].color}`\r\n\r\n                    }  : state)\r\n            })\r\n        }\r\n\r\n    }\r\n    const getCartsProducts = () => {\r\n        let filtered = state.cartProducts.filter(i => i.ID === action.payload.ID)\r\n\r\n        if(filtered.length == 0 ) {\r\n            return {\r\n                ...state,\r\n                cartProducts:  [\r\n                    ...state.cartProducts,\r\n                    {\r\n                        ID: `${action.payload.ID}`,\r\n                        name: `${action.payload.name}`,\r\n                        gender: `${action.payload.gender}`,\r\n                        type: `${action.payload.type}`,\r\n                        price: `${action.payload.price}`,\r\n                        count:  1,\r\n                        image: `${action.payload.image}`,\r\n                        size: `${action.payload.size}`,\r\n                        color: `${action.payload.color}`\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n         if(filtered.length == 1) {\r\n           const addToCart = () => {\r\n                state.cartProducts.forEach((item,i,arr) => {\r\n                  return  ((item.ID === action.payload.ID) ?\r\n                         state.cartProducts[i] =  {\r\n                         ID: `${action.payload.ID}`,\r\n                         name: `${action.payload.name}`,\r\n                         gender: `${action.payload.gender}`,\r\n                         type: `${action.payload.type}`,\r\n                         price: `${action.payload.price}`,\r\n                         count:  state.cartProducts[i].count +1,\r\n                         image: `${action.payload.image}`,\r\n                             size: `${action.payload.size}`,\r\n                             color: `${action.payload.color}`\r\n\r\n                         }  : state)\r\n                })\r\n            }\r\n           addToCart()\r\n            return {\r\n                ...state,\r\n                cartProducts:  [\r\n                    ...state.cartProducts,\r\n                ]\r\n            }\r\n        }\r\n    }\r\n    switch (action.type) {\r\n        case ADD_TO_CART:\r\n            return getCartsProducts()\r\n        case CLEAR_CART:\r\n            return {\r\n                cartProducts: []\r\n            }\r\n        case CHANGE_QUANITY:\r\n            changeCount()\r\n            return  {\r\n            ...state,\r\n            cartProducts:  [\r\n                ...state.cartProducts,\r\n            ]\r\n\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}