{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Tony/Documents/GitHub/Shop_on_React/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Tony/Documents/GitHub/Shop_on_React/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams}from\"react-router-dom\";import{useSelector}from\"react-redux\";import React,{useEffect}from\"react\";import OrderItem from\"../components/OrderItem\";import{useState}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";;var Order=function Order(props){var user=useSelector(function(state){return state.user;});var params=useParams();var order=user.users[user.sessionData.email].orders.filter(function(i){return i.ID===parseInt(params.ID);})[0];var _useState=useState(0),_useState2=_slicedToArray(_useState,2),sum=_useState2[0],setSum=_useState2[1];var keys=[];var randomKey=function randomKey(){var key=Math.floor(Math.random()*(90000000-10)+10);if(keys.length==0||keys.map(function(element){return key!==element;})){keys=[].concat(_toConsumableArray(keys),[key]);return key;}else{randomKey();}};var getTotalPrice=function getTotalPrice(){var newSum=0;order.orderedProducts.map(function(i){return newSum+=i.price*i.count;});setSum(newSum);newSum=0;};useEffect(function(){getTotalPrice();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"order\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetails\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"orderDetailsOuter\",onClick:getTotalPrice,children:[\"Ordered on: \",/*#__PURE__*/_jsxs(\"span\",{className:\"orderDetailsInner\",children:[\" \",order.orderedDate]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"orderDetailsOuter\",children:[\"Will be deilivered to: \",/*#__PURE__*/_jsxs(\"span\",{className:\"orderDetailsInner\",children:[\"(\",order.adress.country,\") \",order.adress.postCode,\", \",order.adress.city]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"orderDetailsOuter\",children:[\"Status: \",/*#__PURE__*/_jsx(\"span\",{className:\"orderDetailsInner\",children:order.status})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"orderDetailsOuter\",children:[\"Total: \",/*#__PURE__*/_jsxs(\"span\",{className:\"orderDetailsInner\",children:[sum,\"$\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"wares-cart\",children:order.orderedProducts.map(function(i){return/*#__PURE__*/_jsx(OrderItem,{color:i.color,size:i.size,ID:i.ID,price:i.price,name:i.name,image:i.image,link:\"/products/\".concat(i.type,\"/\").concat(i.gender,\"/\").concat(i.ID),count:i.count},randomKey());})})]})});};export default Order;","map":{"version":3,"names":["useParams","useSelector","React","useEffect","OrderItem","useState","Order","props","user","state","params","order","users","sessionData","email","orders","filter","i","ID","parseInt","sum","setSum","keys","randomKey","key","Math","floor","random","length","map","element","getTotalPrice","newSum","orderedProducts","price","count","orderedDate","adress","country","postCode","city","status","color","size","name","image","type","gender"],"sources":["C:/Users/Tony/Documents/GitHub/Shop_on_React/my-app/src/pages/Order.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport React, { useEffect } from \"react\";\r\nimport OrderItem from \"../components/OrderItem\";\r\nimport { useState } from \"react\";\r\n;\r\nconst Order = (props) => {\r\n  const user = useSelector((state) => state.user);\r\n  let params = useParams()\r\n  const order =  user.users[user.sessionData.email].orders.filter(i =>  i.ID === parseInt(params.ID))[0]\r\n  const [sum,setSum] = useState(0);\r\n\r\n  let keys = []\r\n\r\n  const randomKey = () => {\r\n\r\n    let key = Math.floor(Math.random() * (90000000 - 10) + 10)\r\n\r\n    if (keys.length == 0 || keys.map(element => key !== element)) {\r\n      keys = [...keys, key]\r\n      return key\r\n\r\n    } else {\r\n      randomKey()\r\n    }\r\n  }\r\n  const getTotalPrice = () => {\r\n    let newSum = 0;\r\n    order.orderedProducts.map(i => newSum += (i.price * i.count))\r\n    setSum(newSum)\r\n    newSum = 0;\r\n  }\r\n  useEffect(() => {\r\n    getTotalPrice()\r\n  },[])\r\n\r\n  return (\r\n    <><div className={\"order\"}>\r\n      <div className=\"orderDetails\">\r\n        <span className={\"orderDetailsOuter\"} onClick={getTotalPrice}>Ordered on: <span className={\"orderDetailsInner\"}> {order.orderedDate}</span></span>\r\n        <span className={\"orderDetailsOuter\"}>Will be deilivered to: <span className={\"orderDetailsInner\"}>({order.adress.country}) {order.adress.postCode}, {order.adress.city}</span></span>\r\n        <span className={\"orderDetailsOuter\"}>Status: <span className={\"orderDetailsInner\"}>{order.status}</span></span>\r\n        <span className={\"orderDetailsOuter\"}>Total: <span  className={\"orderDetailsInner\"} >{sum}$</span></span>\r\n      </div>\r\n      <div className=\"wares-cart\">\r\n        {order.orderedProducts.map(i => <OrderItem  key={randomKey()} color={i.color} size={i.size} ID={i.ID} price={i.price} name={i.name} image={i.image} link={`/products/${i.type}/${i.gender}/${i.ID}`} count={i.count}/>)}\r\n      </div>\r\n\r\n    </div>\r\n\r\n      </>\r\n  )\r\n}\r\nexport default Order"],"mappings":"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"},"metadata":{},"sourceType":"module"}